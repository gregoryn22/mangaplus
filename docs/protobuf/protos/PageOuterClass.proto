syntax = "proto3";

package mangaplus_api_protocol;

option java_package = "jp.co.comic.jump.proto";

import "AdNetworkOuterClass.proto";
import "BannerOuterClass.proto";
import "ChapterOuterClass.proto";
import "CommentOuterClass.proto";
import "Dialogue.proto";
import "PopupOuterClass.proto";
import "TitleOuterClass.proto";
import "UserTicketsOuterClass.proto";

message Page {
  enum ChapterType {
    LATEST = 0;
    SEQUENCE = 1;
    NOSEQUENCE = 2;
  }

  enum PageType {
    SINGLE = 0;
    LEFT = 1;
    RIGHT = 2;
    DOUBLE = 3;
  }

  message MangaPage {
    string imageUrl = 1;
    int32 width = 2;
    int32 height = 3;
    PageType type = 4;
    string encryptionKey = 5;
  }

  message LastPage {
    ChapterOuterClass.Chapter currentChapter = 1;
    ChapterOuterClass.Chapter nextChapter = 2;
    repeated CommentOuterClass.Comment topComments = 3;
    bool isSubscribed = 4;
    int64 nextTimeStamp = 5;
    ChapterType chapterType = 6;
    AdNetworkOuterClass.AdNetworkList advertisement = 7;
    PopupOuterClass.Popup movieReward = 8;
    repeated BannerOuterClass.Banner banners = 9;
    repeated TitleOuterClass.Title ticketTitleList = 10;
    BannerOuterClass.Banner publisherBanner = 11;
    UserTicketsOuterClass.UserTickets userTickets = 12;
    bool isNextChapterReadByTicket = 13;
    bool isNextChapterOneTimeFree = 14;
    Dialogue.FreeViewDialogue freeViewDialogue = 15;
    bool isNextChapterSubscription = 16;
    AdNetworkOuterClass.AdRewardNetworkList advertisementReward = 17;
    AdNetworkOuterClass.AdNetworkList viewerEndAdvertisement = 18;
  }

  message BannerList {
    string bannerTitle = 1;
    repeated BannerOuterClass.Banner banners = 2;
  }

  enum DataCase {
    DATA_NOT_SET = 0;
    MANGA_PAGE = 1;
    BANNER_LIST = 2;
    LAST_PAGE = 3;
    ADVERTISEMENT = 4;
    INSERT_BANNER_LIST = 5;
  }

  MangaPage mangaPage = 1;
  BannerList bannerList = 2;
  LastPage lastPage = 3;
  AdNetworkOuterClass.AdRewardNetworkList advertisement = 4;
  BannerList insertBannerList = 5;
}